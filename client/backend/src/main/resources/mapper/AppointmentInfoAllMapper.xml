<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kuafu.web.mapper.AppointmentInfoAllMapper">
    <sql id="appointment_info_list_sql">
        select
        ai.deposit_amount   ,
        ai.appointment_time   ,
        ai.appointment_info_id   ,
        ai.user_info_user_info_id_1   ,
        ui.member_level_id   ,
        ase.status_name   ,
        ai.appointment_date   ,
        ai.appointment_code   ,
        ai.deposit_paid   ,
        ai.status_enum_id   ,
        ai.coupon_received   ,
        ui.password   ,
        ui.phone_number   ,
        ai.doctor_name   ,
        ui.email   ,
        ui.username   


        FROM appointment_info ai
        left join user_info ui on ai.user_info_user_info_id_1 = ui.user_info_id
        left join appointment_status_enum ase on ai.status_enum_id = ase.appointment_status_enum_id

        </sql>

        <resultMap id="selectListNewMap" type="com.kuafu.web.entity.AppointmentInfoAll">

        <result property="depositAmount" column="deposit_amount"/>

        <result property="appointmentTime" column="appointment_time"/>

        <result property="appointmentInfoId" column="appointment_info_id"/>

        <result property="userInfoUserInfoId1" column="user_info_user_info_id_1"/>

        <result property="memberLevelId" column="member_level_id"/>

        <result property="statusName" column="status_name"/>

        <result property="appointmentDate" column="appointment_date"/>

        <result property="appointmentCode" column="appointment_code"/>

        <result property="depositPaid" column="deposit_paid"/>

        <result property="statusEnumId" column="status_enum_id"/>

        <result property="couponReceived" column="coupon_received"/>

        <result property="password" column="password"/>

        <result property="phoneNumber" column="phone_number"/>

        <result property="doctorName" column="doctor_name"/>

        <result property="email" column="email"/>

        <result property="username" column="username"/>




        </resultMap>

<select id="selectListNew"  resultMap="selectListNewMap">
select
ai.deposit_amount   ,
ai.appointment_time   ,
ai.appointment_info_id   ,
ai.user_info_user_info_id_1   ,
ui.member_level_id   ,
ase.status_name   ,
ai.appointment_date   ,
ai.appointment_code   ,
ai.deposit_paid   ,
ai.status_enum_id   ,
ai.coupon_received   ,
ui.password   ,
ui.phone_number   ,
ai.doctor_name   ,
ui.email   ,
ui.username   



        FROM appointment_info ai
        left join

        user_info

        ui on ai.user_info_user_info_id_1 = ui.user_info_id
        left join

        appointment_status_enum

        ase on ai.status_enum_id = ase.appointment_status_enum_id



${ew.customSqlSegment}
        </select>

<select id="selectList" resultType="com.kuafu.web.entity.AppointmentInfoAll">
select
ai.deposit_amount   ,
ai.appointment_time   ,
ai.appointment_info_id   ,
ai.user_info_user_info_id_1   ,
ui.member_level_id   ,
ase.status_name   ,
ai.appointment_date   ,
ai.appointment_code   ,
ai.deposit_paid   ,
ai.status_enum_id   ,
ai.coupon_received   ,
ui.password   ,
ui.phone_number   ,
ai.doctor_name   ,
ui.email   ,
ui.username   


        FROM appointment_info ai
        left join user_info ui on ai.user_info_user_info_id_1 = ui.user_info_id
        left join appointment_status_enum ase on ai.status_enum_id = ase.appointment_status_enum_id


${ew.customSqlSegment}
        </select>

<select id="selectPage" resultType="com.kuafu.web.entity.AppointmentInfoAll">
select
ai.deposit_amount  ,
ai.appointment_time  ,
ai.appointment_info_id  ,
ai.user_info_user_info_id_1  ,
ui.member_level_id  ,
ase.status_name  ,
ai.appointment_date  ,
ai.appointment_code  ,
ai.deposit_paid  ,
ai.status_enum_id  ,
ai.coupon_received  ,
ui.password  ,
ui.phone_number  ,
ai.doctor_name  ,
ui.email  ,
ui.username  



        FROM appointment_info ai
        left join user_info ui on ai.user_info_user_info_id_1 = ui.user_info_id
        left join appointment_status_enum ase on ai.status_enum_id = ase.appointment_status_enum_id





${ew.customSqlSegment}
        </select>

<select id="selectById" resultType="com.kuafu.web.entity.AppointmentInfoAll">
select
ai.deposit_amount  ,
ai.appointment_time  ,
ai.appointment_info_id  ,
ai.user_info_user_info_id_1  ,
ui.member_level_id  ,
ase.status_name  ,
ai.appointment_date  ,
ai.appointment_code  ,
ai.deposit_paid  ,
ai.status_enum_id  ,
ai.coupon_received  ,
ui.password  ,
ui.phone_number  ,
ai.doctor_name  ,
ui.email  ,
ui.username  


        FROM appointment_info ai
        left join user_info ui on ai.user_info_user_info_id_1 = ui.user_info_id
        left join appointment_status_enum ase on ai.status_enum_id = ase.appointment_status_enum_id



        where ai.appointment_info_id = #{id}
        </select>

<select id="selectCount" resultType="java.lang.Long">
select
count(*)



FROM appointment_info ai
left join user_info ui on ai.user_info_user_info_id_1 = ui.user_info_id
left join appointment_status_enum ase on ai.status_enum_id = ase.appointment_status_enum_id



${ew.customSqlSegment}


        </select>

        </mapper>
